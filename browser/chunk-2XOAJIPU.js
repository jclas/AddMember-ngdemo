import{C as w,E as v,G as E,I,N,O as k,P as S,Q as V,R as T,S as D,T as A,U as H,V as L,a as x,b as s,c as l,d as c,e as b,f as O,g as u,h as g,i as d,j as i,l as P,m as f,n as a,p as m,q as y,u as _,v as h,w as M}from"./chunk-MA5TJQSY.js";function W(o,C){if(o&1&&(d(0,"span",5),m(1),i()),o&2){let e=a();c(),y(e.member.displayName)}}function z(o,C){o&1&&(d(0,"div",15),m(1," Please enter a valid phone number (999-999-9999). "),i())}function F(o,C){if(o&1){let e=P();d(0,"form")(1,"div",6)(2,"label",7),m(3,"Phone Number"),i(),d(4,"input",8),M("ngModelChange",function(t){s(e);let r=a();return h(r.editMember.phoneNumber,t)||(r.editMember.phoneNumber=t),l(t)}),f("keydown",function(t){s(e);let r=a();return l(r.onPhoneKeydown(t))})("input",function(t){s(e);let r=a();return l(r.onPhoneInput(t))}),i(),u(5,z,2,0,"div",9),i(),d(6,"div",6)(7,"label",10),m(8,"Birthdate"),i(),d(9,"input",11),M("ngModelChange",function(t){s(e);let r=a();return h(r.editMember.birthdate,t)||(r.editMember.birthdate=t),l(t)}),i()(),d(10,"div",12)(11,"button",13),f("click",function(){s(e);let t=a();return l(t.save())}),m(12,"Save"),i(),d(13,"button",14),f("click",function(){s(e);let t=a();return l(t.cancel())}),m(14,"Cancel"),i()()()}if(o&2){let e=a();c(4),_("ngModel",e.editMember.phoneNumber),c(),g("ngIf",e.editMember.phoneNumber&&!e.isPhoneValid(e.editMember.phoneNumber)),c(4),_("ngModel",e.editMember.birthdate),c(2),g("disabled",!e.isFormValid())}}var J=(()=>{class o{onPhoneKeydown(e){let n=e.target;if(e.key&&e.key.length==1&&!(e.ctrlKey&&(e.key.toLowerCase()=="c"||e.key.toLowerCase()=="v"))){if(n.value.length>=this.MAX_PHONE_LENGTH||!/[0-9]/.test(e.key)){e.preventDefault();return}}}onPhoneInput(e){let n=e.target,t=n.value.replace(/\D/g,"");t=t.slice(0,this.MAX_PHONE_DIGITS);let r="";for(let p=0;p<t.length;p++)(p==3||p==6)&&(r+="-"),r+=t[p];n.value=r,this.editMember&&(this.editMember.phoneNumber=r)}isPhoneValid(e){if(e.replace(/\D/g,"").length!==10)return!1;let t=/^(\d{3}-\d{3}-\d{4})(.*)$/,r=e.match(t);return r&&r[2].trim().length>0?!1:/^\d{3}-\d{3}-\d{4}$/.test(e)}constructor(e,n,t){this.memberService=e,this.router=n,this.route=t,this.MAX_PHONE_DIGITS=10,this.MAX_PHONE_LENGTH=12}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));this.member=this.memberService.getMembers().find(n=>n.id===e),this.editMember=this.member?x({},this.member):void 0}save(){this.editMember&&(this.memberService.updateMember(this.editMember),this.router.navigate(["/members"]))}cancel(){this.router.navigate(["/members"])}isFormValid(){return!!(this.editMember?.phoneNumber&&this.isPhoneValid(this.editMember.phoneNumber)&&this.editMember?.birthdate)}static{this.\u0275fac=function(n){return new(n||o)(b(N),b(I),b(E))}}static{this.\u0275cmp=O({type:o,selectors:[["app-edit-other-info"]],decls:9,vars:2,consts:[[1,"header"],["class","display-name",4,"ngIf"],[1,"form-container"],[1,"form-header"],[4,"ngIf"],[1,"display-name"],[1,"form-group"],["for","phoneNumber"],["type","tel","id","phoneNumber","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","keydown","input","ngModel"],["class","error-message",4,"ngIf"],["for","birthdate"],["type","date","id","birthdate","name","birthdate","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"error-message"]],template:function(n,t){n&1&&(d(0,"div",0)(1,"h2"),m(2,"Edit Member: "),u(3,W,2,1,"span",1),i()(),d(4,"div",2)(5,"div",3)(6,"h2"),m(7,"Other Information"),i()(),u(8,F,15,4,"form",4),i()),n&2&&(c(3),g("ngIf",t.member),c(5),g("ngIf",t.editMember))},dependencies:[v,w,L,A,k,S,V,H,D,T],styles:[".header[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333}.header[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{color:#1976d2}.error-message[_ngcontent-%COMP%]{color:#c00;margin-top:.5rem}.form-container[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e0e0e0;border-radius:10px;box-shadow:0 2px 8px #00000012;padding:2rem 2.5rem;max-width:500px;margin:2rem auto}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e0e0e0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin:0 0 .5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333;display:block;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:4px;border:1px solid #ccc;font-size:1rem}.form-control[type=date][_ngcontent-%COMP%], .form-control[type=tel][_ngcontent-%COMP%]{max-width:200px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:.75rem 1.5rem;font-size:1rem;cursor:pointer;transition:background .2s}.btn-primary[_ngcontent-%COMP%]:hover{background:#1565c0}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;border-radius:4px;padding:.75rem 1.5rem;font-size:1rem;cursor:pointer;transition:background .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#bdbdbd}.edit-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e0e0e0;border-radius:10px;box-shadow:0 2px 8px #00000012;padding:2rem 2.5rem;max-width:500px;margin:2rem auto}.edit-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1976d2;margin-bottom:1.5rem}.edit-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333}.edit-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1.25rem;border-radius:4px;border:1px solid #ccc;font-size:1rem}.edit-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:.75rem 1.5rem;font-size:1rem;cursor:pointer;transition:background .2s}.edit-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1565c0}"]})}}return o})();export{J as EditOtherInfoComponent};
